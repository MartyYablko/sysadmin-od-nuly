<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kapitola 8 ‚Äì Firewall: ufw & iptables</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
  <link rel="stylesheet" href="../assets/css/main.css">
  <script src="../assets/js/main.js" defer></script>
</head>
<body>

<nav class="container-fluid">
  <ul><li><strong>SysAdmin od nuly</strong></li></ul>
  <ul>
    <li><a href="../index.html">Dom≈Ø</a></li>
    <li><a href="07-balicky-a-aktualizace.html">‚Üê P≈ôedchoz√≠</a></li>
    <li><a href="#">Dal≈°√≠ ‚Üí</a></li>
  </ul>
</nav>

<main class="container">
  <div class="layout">

    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="progress-box">
        <div class="progress-label">Postup studia</div>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
      </div>

      <input type="search" id="searchInput" placeholder="Hledat kapitolu‚Ä¶">
      <input type="search" id="contentSearch" placeholder="Hledat v kapitole‚Ä¶">
      <small id="searchInfo"></small>

      <h4>Kapitoly</h4>
      <ul>
        <li><a href="01-sysadmin.html">1. Co je SysAdmin</a></li>
        <li><a href="02-os.html">2. Jak funguje OS</a></li>
        <li><a href="03-linux.html">3. Linux ‚Äì z√°klady</a></li>
        <li><a href="04-linux-instalace.html">4. Instalace Linuxu</a></li>
        <li><a href="05-ssh-a-terminal.html">5. Termin√°l & SSH</a></li>
        <li><a href="06-uzivatele-skupiny-prava.html">6. U≈æivatel√© a pr√°va</a></li>
        <li><a href="07-balicky-a-aktualizace.html">7. Bal√≠ƒçky & apt</a></li>
        <li><a href="08-firewall-ufw-iptables.html">8. Firewall</a></li>
      </ul>
    </aside>

    <!-- CONTENT -->
    <section class="content">

      <hgroup>
        <h2>Kapitola 8: Firewall ‚Äì ufw a iptables</h2>
        <h3>Jak chr√°nit server a pochopit, co se dƒõje pod kapotou</h3>
      </hgroup>

      <!-- √öVOD -->
      <article>
        <h3>Proƒç je firewall z√°sadn√≠</h3>
        <p>
          Jakmile je server p≈ôipojen√Ω k s√≠ti (nebo internetu),
          <strong>kdokoliv na svƒõtƒõ</strong> se s n√≠m m≈Ø≈æe pokusit komunikovat.
        </p>
        <p>
          Firewall je mechanizmus, kter√Ω rozhoduje:
          <em>‚ÄûTento provoz pust√≠m, tenhle ne.‚Äú</em>
        </p>
        <p>
          Bez firewallu spol√©h√°≈° jen na to, ≈æe nikdo nic zl√©ho nezkus√≠.
          A to je v re√°ln√©m svƒõtƒõ ≈°patn√° strategie.
        </p>
      </article>

      <!-- ANALOGIE -->
      <article>
        <h3>Firewall ‚Äì lidsk√° analogie</h3>
        <p>
          P≈ôedstav si server jako kancel√°≈ôskou budovu:
        </p>
        <ul>
          <li>dve≈ôe = s√≠≈•ov√© porty</li>
          <li>n√°v≈°tƒõvn√≠ci = s√≠≈•ov√© pakety</li>
          <li>recepce = firewall</li>
        </ul>
        <p>
          Firewall kontroluje, kdo m≈Ø≈æe dovnit≈ô, kam m≈Ø≈æe j√≠t
          a koho po≈°le pryƒç.
        </p>
      </article>

      <!-- TECHNICK√ù Z√ÅKLAD -->
      <article>
        <h3>Co je s√≠≈•ov√Ω paket</h3>
        <p>
          S√≠≈•ov√° komunikace prob√≠h√° v bal√≠ƒçc√≠ch zvan√Ωch <strong>pakety</strong>.
          Ka≈æd√Ω paket obsahuje:
        </p>
        <ul>
          <li>zdrojovou IP adresu</li>
          <li>c√≠lovou IP adresu</li>
          <li>protokol (TCP / UDP)</li>
          <li>c√≠lov√Ω port</li>
        </ul>
        <p>
          Firewall analyzuje tyto informace a rozhoduje.
        </p>
      </article>

      <article>
        <h3>Porty ‚Äì co to skuteƒçnƒõ znamen√°</h3>
        <p>
          Port je ƒç√≠slo, kter√© urƒçuje, <strong>jak√° slu≈æba</strong>
          m√° paket zpracovat.
        </p>
        <ul>
          <li>22 ‚Äì SSH</li>
          <li>80 ‚Äì HTTP</li>
          <li>443 ‚Äì HTTPS</li>
        </ul>
        <p>
          Pokud slu≈æba neposlouch√° na portu, nem√° smysl ho povolovat.
        </p>
      </article>

      <!-- IPTABLES -->
      <article>
        <h3>iptables ‚Äì firewall na √∫rovni kernelu</h3>
        <p>
          <strong>iptables</strong> je n√°stroj pro konfiguraci firewallu,
          kter√Ω bƒõ≈æ√≠ p≈ô√≠mo v Linux kernelu (netfilter).
        </p>
        <p>
          Je extr√©mnƒõ v√Ωkonn√Ω, ale tak√©:
        </p>
        <ul>
          <li>nep≈ôehledn√Ω</li>
          <li>snadno rozbiteln√Ω</li>
          <li>neodpou≈°t√≠ chyby</li>
        </ul>
      </article>

      <article>
        <h3>Tabulky, chainy a pravidla (iptables)</h3>
        <p>
          iptables pracuje ve t≈ôech vrstv√°ch:
        </p>
        <ul>
          <li><strong>tabulka</strong> ‚Äì typ zpracov√°n√≠</li>
          <li><strong>chain</strong> ‚Äì f√°ze pr≈Øchodu paketu</li>
          <li><strong>pravidlo</strong> ‚Äì konkr√©tn√≠ podm√≠nka</li>
        </ul>
      </article>

      <article>
        <h3>Nejd≈Øle≈æitƒõj≈°√≠ chainy</h3>
        <ul>
          <li><code>INPUT</code> ‚Äì provoz do serveru</li>
          <li><code>OUTPUT</code> ‚Äì provoz ze serveru</li>
          <li><code>FORWARD</code> ‚Äì server jako router</li>
        </ul>
      </article>

      <article>
        <h3>Uk√°zka iptables pravidla ‚Äì rozbor</h3>
        <pre><code>iptables -A INPUT -p tcp --dport 22 -j ACCEPT</code></pre>
        <p>
          Toto pravidlo ≈ô√≠k√°:
        </p>
        <ul>
          <li>vezmi p≈ô√≠choz√≠ provoz</li>
          <li>pokud je TCP</li>
          <li>na port 22</li>
          <li>povol ho</li>
        </ul>
      </article>

      <article>
        <h3>Proƒç iptables bƒõ≈ænƒõ nekonfigurujeme ruƒçnƒõ</h3>
        <p>
          Ruƒçn√≠ iptables pravidla:
        </p>
        <ul>
          <li>se po rebootu ztrat√≠</li>
          <li>mohou tƒõ zamknout ven</li>
          <li>jsou ≈°patnƒõ auditovateln√°</li>
        </ul>
        <p>
          Proto se pou≈æ√≠vaj√≠ nadstavby.
        </p>
      </article>

      <!-- UFW -->
      <article>
        <h3>ufw ‚Äì firewall pro ka≈ædodenn√≠ praxi</h3>
        <p>
          <strong>ufw (Uncomplicated Firewall)</strong> je n√°stroj,
          kter√Ω p≈ôev√°d√≠ jednoduch√© p≈ô√≠kazy na iptables pravidla.
        </p>
        <p>
          Je navr≈æen√Ω tak, aby:
        </p>
        <ul>
          <li>minimalizoval chyby</li>
          <li>byl ƒçiteln√Ω</li>
          <li>byl bezpeƒçn√Ω</li>
        </ul>
      </article>

      <article>
        <h3>Jak ufw ukl√°d√° konfiguraci</h3>
        <p>
          Konfigurace je ulo≈æena v:
        </p>
        <pre><code>/etc/ufw/</code></pre>
        <ul>
          <li><code>ufw.conf</code> ‚Äì zapnuto / vypnuto</li>
          <li><code>user.rules</code> ‚Äì pravidla</li>
        </ul>
      </article>

      <article>
        <h3>Default policy ‚Äì nejd≈Øle≈æitƒõj≈°√≠ koncept</h3>
        <p>
          Z√°kladn√≠ bezpeƒçnostn√≠ pravidlo zn√≠:
        </p>
        <pre><code>zak√°zat v≈°e a povolit jen nutn√©</code></pre>
        <p>
          Tomu se ≈ô√≠k√° <strong>default deny</strong>.
        </p>
      </article>

      <article>
        <h3>Bezpeƒçn√Ω postup zapnut√≠ firewallu</h3>
        <ol>
          <li>povolit SSH</li>
          <li>nastavit default policy</li>
          <li>teprve potom zapnout firewall</li>
        </ol>
        <p>
          Pokud tenhle postup nedodr≈æ√≠≈°, <strong>od≈ô√≠zne≈° se</strong>.
        </p>
      </article>

      <!-- LAB -->
      <article class="lab">
        <h3>üß™ LAB ‚Äì Firewall krok za krokem</h3>

        <h4>√ökoly</h4>
        <ol>
          <li>Zkontroluj stav firewallu</li>
          <li>Nastav default deny incoming</li>
          <li>Povol SSH</li>
          <li>Zapni firewall</li>
          <li>Zobraz iptables pravidla vytvo≈ôen√° ufw</li>
        </ol>

        <button class="show-solution">Zobrazit ≈ôe≈°en√≠</button>

        <div class="lab-solution">
          <pre><code>sudo ufw status
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow ssh
sudo ufw enable
sudo iptables -L -n</code></pre>
        </div>
      </article>

      <article>
        <h3>Shrnut√≠ kapitoly</h3>
        <p>
          Firewall nen√≠ o jednom p≈ô√≠kazu, ale o zp≈Øsobu p≈ôem√Ω≈°len√≠.
          ƒå√≠m m√©nƒõ vƒõc√≠ povol√≠≈°, t√≠m men≈°√≠ m√°≈° √∫tokovou plochu.
        </p>
        <p>
          Pokud rozum√≠≈° ufw i iptables, rozum√≠≈° tomu,
          <strong>jak Linux chr√°n√≠ s√°m sebe</strong>.
        </p>
      </article>

    </section>

  </div>
</main>

<footer class="container">
  <small><a href="../index.html">SysAdmin od nuly</a></small>
</footer>

</body>
</html>
