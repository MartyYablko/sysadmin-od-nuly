<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kapitola 10 ‚Äì Logy a journalctl</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
  <link rel="stylesheet" href="../assets/css/main.css">
  <script src="../assets/js/main.js" defer></script>
</head>
<body>

<nav class="container-fluid">
  <ul><li><strong>SysAdmin od nuly</strong></li></ul>
  <ul>
    <li><a href="../index.html">Dom≈Ø</a></li>
    <li><a href="09-fail2ban.html">‚Üê P≈ôedchoz√≠</a></li>
    <li><a href="#">Dal≈°√≠ ‚Üí</a></li>
  </ul>
</nav>

<main class="container">
  <div class="layout">

    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="progress-box">
        <div class="progress-label">Postup studia</div>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
      </div>

      <input type="search" id="searchInput" placeholder="Hledat kapitolu‚Ä¶">
      <input type="search" id="contentSearch" placeholder="Hledat v kapitole‚Ä¶">
      <small id="searchInfo"></small>

      <h4>Kapitoly</h4>
      <ul>
        <li><a href="01-sysadmin.html">1. Co je SysAdmin</a></li>
        <li><a href="02-os.html">2. Jak funguje OS</a></li>
        <li><a href="03-linux.html">3. Linux ‚Äì z√°klady</a></li>
        <li><a href="04-linux-instalace.html">4. Instalace Linuxu</a></li>
        <li><a href="05-ssh-a-terminal.html">5. Termin√°l & SSH</a></li>
        <li><a href="06-uzivatele-skupiny-prava.html">6. U≈æivatel√© a pr√°va</a></li>
        <li><a href="07-balicky-a-aktualizace.html">7. Bal√≠ƒçky & apt</a></li>
        <li><a href="08-firewall-ufw-iptables.html">8. Firewall</a></li>
        <li><a href="09-fail2ban.html">9. Fail2Ban</a></li>
        <li><a href="10-logy-a-journalctl.html">10. Logy</a></li>
      </ul>
    </aside>

    <!-- CONTENT -->
    <section class="content">

      <hgroup>
        <h2>Kapitola 10: Logy a journalctl</h2>
        <h3>Jak zjistit, co se na serveru opravdu dƒõje</h3>
      </hgroup>

      <!-- √öVOD -->
      <article>
        <h3>Proƒç jsou logy pro admina kl√≠ƒçov√©</h3>
        <p>
          Logy jsou <strong>den√≠k serveru</strong>.
          Kdy≈æ se nƒõco pokaz√≠, logy jsou prvn√≠ m√≠sto,
          kam se admin d√≠v√°.
        </p>
        <p>
          Pokud neum√≠≈° ƒç√≠st logy, spravuje≈° server ‚Äûnaslepo‚Äú.
        </p>
      </article>

      <!-- ANALOGIE -->
      <article>
        <h3>Lidsk√° analogie</h3>
        <p>
          P≈ôedstav si server jako fabriku:
        </p>
        <ul>
          <li>stroje = slu≈æby</li>
          <li>probl√©m = porucha</li>
          <li>logy = z√°znam z kamer a senzor≈Ø</li>
        </ul>
        <p>
          Bez z√°znam≈Ø jen h√°d√°≈°, co se stalo.
        </p>
      </article>

      <!-- CO JSOU LOGY -->
      <article>
        <h3>Co jsou logy</h3>
        <p>
          Log je textov√Ω z√°znam ud√°lost√≠:
        </p>
        <ul>
          <li>start slu≈æby</li>
          <li>chyba</li>
          <li>p≈ôihl√°≈°en√≠ u≈æivatele</li>
          <li>s√≠≈•ov√° komunikace</li>
        </ul>
      </article>

      <article>
        <h3>Kde Linux ukl√°d√° logy</h3>
        <p>
          Tradiƒçnƒõ jsou logy v adres√°≈ôi:
        </p>
        <pre><code>/var/log</code></pre>
        <p>
          Najde≈° tam nap≈ô√≠klad:
        </p>
        <ul>
          <li><code>auth.log</code> ‚Äì p≈ôihl√°≈°en√≠, SSH</li>
          <li><code>syslog</code> ‚Äì syst√©mov√© zpr√°vy</li>
          <li><code>kern.log</code> ‚Äì kernel</li>
        </ul>
      </article>

      <!-- SYSTEMD -->
      <article>
        <h3>systemd a journal</h3>
        <p>
          Modern√≠ Linux pou≈æ√≠v√° <strong>systemd</strong>,
          kter√Ω m√° vlastn√≠ logovac√≠ syst√©m zvan√Ω <strong>journal</strong>.
        </p>
        <p>
          Ten ukl√°d√° logy centr√°lnƒõ a strukturovanƒõ.
        </p>
      </article>

      <article>
        <h3>journalctl ‚Äì n√°stroj pro ƒçten√≠ log≈Ø</h3>
        <p>
          <code>journalctl</code> je p≈ô√≠kaz pro pr√°ci s journalem.
        </p>
        <pre><code>journalctl</code></pre>
        <p>
          Zobraz√≠ kompletn√≠ logy syst√©mu (od nejstar≈°√≠ch).
        </p>
      </article>

      <!-- PRAKTICK√â POU≈ΩIT√ç -->
      <article>
        <h3>Nejpou≈æ√≠vanƒõj≈°√≠ p≈ôep√≠naƒçe journalctl</h3>
        <ul>
          <li><code>-xe</code> ‚Äì posledn√≠ chyby</li>
          <li><code>-f</code> ‚Äì sledov√°n√≠ v re√°ln√©m ƒçase</li>
          <li><code>-b</code> ‚Äì logy od posledn√≠ho bootu</li>
        </ul>
      </article>

      <article>
        <h3>Logy konkr√©tn√≠ slu≈æby</h3>
        <p>
          Nap≈ô√≠klad SSH:
        </p>
        <pre><code>journalctl -u ssh</code></pre>
        <p>
          To je extr√©mnƒõ d≈Øle≈æit√© p≈ôi ladƒõn√≠ p≈ô√≠stupu.
        </p>
      </article>

      <article>
        <h3>ƒåasov√© filtrov√°n√≠ log≈Ø</h3>
        <pre><code>journalctl --since "1 hour ago"</code></pre>
        <pre><code>journalctl --since today</code></pre>
      </article>

      <!-- AUTH LOG -->
      <article>
        <h3>auth.log ‚Äì bezpeƒçnostn√≠ zlato</h3>
        <p>
          Soubor <code>/var/log/auth.log</code> obsahuje:
        </p>
        <ul>
          <li>SSH pokusy</li>
          <li>sudo p≈ô√≠kazy</li>
          <li>selh√°n√≠ p≈ôihl√°≈°en√≠</li>
        </ul>
        <p>
          Fail2Ban ƒçte pr√°vƒõ tento log.
        </p>
      </article>

      <!-- ƒåAST√â CHYBY -->
      <article>
        <h3>Typick√© chyby zaƒç√°teƒçn√≠k≈Ø</h3>
        <ul>
          <li>ƒçtou ≈°patn√Ω log</li>
          <li>hledaj√≠ ‚Äûerror‚Äú m√≠sto kontextu</li>
          <li>nepou≈æ√≠vaj√≠ ƒçasov√© filtrov√°n√≠</li>
        </ul>
      </article>

      <!-- MY≈†LEN√ç ADMINA -->
      <article>
        <h3>Jak p≈ôem√Ω≈°l√≠ sysadmin p≈ôi probl√©mu</h3>
        <ol>
          <li>Co nefunguje?</li>
          <li>Kdy to p≈ôestalo fungovat?</li>
          <li>Jak√° slu≈æba je za to zodpovƒõdn√°?</li>
          <li>Jak√© logy s t√≠m souvis√≠?</li>
        </ol>
      </article>

      <!-- LAB -->
      <article class="lab">
        <h3>üß™ LAB ‚Äì Pr√°ce s logy</h3>

        <h4>√ökoly</h4>
        <ol>
          <li>Zobraz posledn√≠ chyby syst√©mu</li>
          <li>Zobraz logy SSH slu≈æby</li>
          <li>Sleduj logy v re√°ln√©m ƒçase</li>
          <li>Najdi z√°znam o posledn√≠m p≈ôihl√°≈°en√≠</li>
        </ol>

        <button class="show-solution">Zobrazit ≈ôe≈°en√≠</button>

        <div class="lab-solution">
          <pre><code>journalctl -xe
journalctl -u ssh
journalctl -f
sudo tail /var/log/auth.log</code></pre>
        </div>
      </article>

      <article>
        <h3>Shrnut√≠ kapitoly</h3>
        <p>
          Logy jsou hlavn√≠ diagnostick√Ω n√°stroj admina.
          Nauƒçit se je ƒç√≠st znamen√° nauƒçit se ≈ôe≈°it probl√©my.
        </p>
        <p>
          Pokud rozum√≠≈° journalctl a <code>/var/log</code>,
          m√°≈° obrovskou v√Ωhodu oproti zaƒç√°teƒçn√≠k≈Øm.
        </p>
      </article>

    </section>

  </div>
</main>

<footer class="container">
  <small><a href="../index.html">SysAdmin od nuly</a></small>
</footer>

</body>
</html>
