<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Kapitola 8 ‚Äì Firewall: ufw & iptables</title>

  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
  <link rel="stylesheet" href="../assets/css/main.css">
  <script src="../assets/js/main.js" defer></script>
</head>
<body>

<nav class="container-fluid">
  <ul><li><strong>SysAdmin od nuly</strong></li></ul>
  <ul>
    <li><a href="../index.html">Dom≈Ø</a></li>
    <li><a href="07-balicky-a-aktualizace.html">‚Üê P≈ôedchoz√≠</a></li>
    <li><a href="#">Dal≈°√≠ ‚Üí</a></li>
  </ul>
</nav>

<main class="container">
  <div class="layout">

    <!-- SIDEBAR -->
    <aside class="sidebar">
      <div class="progress-box">
        <div class="progress-label">Postup studia</div>
        <div class="progress-bar">
          <div class="progress-fill" id="progressFill"></div>
        </div>
      </div>

      <input type="search" id="searchInput" placeholder="Hledat kapitolu‚Ä¶">
      <input type="search" id="contentSearch" placeholder="Hledat v kapitole‚Ä¶">
      <small id="searchInfo"></small>

      <h4>Kapitoly</h4>
      <ul>
        <li><a href="01-sysadmin.html">1. Co je SysAdmin</a></li>
        <li><a href="02-os.html">2. Jak funguje OS</a></li>
        <li><a href="03-linux.html">3. Linux ‚Äì z√°klady</a></li>
        <li><a href="04-linux-instalace.html">4. Instalace Linuxu</a></li>
        <li><a href="05-ssh-a-terminal.html">5. Termin√°l & SSH</a></li>
        <li><a href="06-uzivatele-skupiny-prava.html">6. U≈æivatel√© a pr√°va</a></li>
        <li><a href="07-balicky-a-aktualizace.html">7. Bal√≠ƒçky & apt</a></li>
        <li><a href="08-firewall-ufw-iptables.html">8. Firewall</a></li>
      </ul>
    </aside>

    <!-- CONTENT -->
    <section class="content">

      <hgroup>
        <h2>Kapitola 8: Firewall ‚Äì ufw a iptables</h2>
        <h3>Jak firewall funguje a jak ho spr√°vnƒõ konfigurovat</h3>
      </hgroup>

      <!-- Z√ÅKLAD -->
      <article>
        <h3>Co firewall skuteƒçnƒõ dƒõl√°</h3>
        <p>
          Firewall filtruje s√≠≈•ov√Ω provoz podle pravidel.
          Ka≈æd√Ω paket je buƒè <strong>povolen</strong>, nebo <strong>zahozem</strong>.
        </p>
        <p>
          C√≠lem je povolit jen to, co server opravdu pot≈ôebuje.
        </p>
      </article>

      <!-- IPTABLES -->
      <article>
        <h3>iptables ‚Äì architektura</h3>
        <p>
          <strong>iptables</strong> pracuje s:
        </p>
        <ul>
          <li><strong>tabulkami</strong> (tables)</li>
          <li><strong>≈ôetƒõzci</strong> (chains)</li>
          <li><strong>pravidly</strong> (rules)</li>
        </ul>
      </article>

      <article>
        <h3>Tabulky v iptables</h3>
        <ul>
          <li><code>filter</code> ‚Äì klasick√Ω firewall (nejƒçastƒõj≈°√≠)</li>
          <li><code>nat</code> ‚Äì p≈ôepis adres (NAT)</li>
          <li><code>mangle</code> ‚Äì √∫prava paket≈Ø</li>
        </ul>
      </article>

      <article>
        <h3>≈òetƒõzce (chains)</h3>
        <ul>
          <li><code>INPUT</code> ‚Äì provoz do serveru</li>
          <li><code>OUTPUT</code> ‚Äì provoz ze serveru</li>
          <li><code>FORWARD</code> ‚Äì p≈ôepos√≠l√°n√≠ (router)</li>
        </ul>
      </article>

      <article>
        <h3>Z√°kladn√≠ pravidlo iptables</h3>
        <pre><code>iptables -A INPUT -p tcp --dport 22 -j ACCEPT</code></pre>
        <p>
          P≈ôeklad:
        </p>
        <ul>
          <li><code>-A INPUT</code> ‚Üí p≈ô√≠choz√≠ provoz</li>
          <li><code>-p tcp</code> ‚Üí TCP protokol</li>
          <li><code>--dport 22</code> ‚Üí port 22</li>
          <li><code>-j ACCEPT</code> ‚Üí povolit</li>
        </ul>
      </article>

      <article>
        <h3>Proƒç se iptables bƒõ≈ænƒõ nekonfiguruje ruƒçnƒõ</h3>
        <ul>
          <li>pravidla nejsou perzistentn√≠</li>
          <li>snadno se zamkne≈° ven</li>
          <li>≈°patn√° ƒçitelnost</li>
        </ul>
        <p>
          Proto se pou≈æ√≠vaj√≠ n√°stroje jako <strong>ufw</strong>.
        </p>
      </article>

      <!-- UFW -->
      <article>
        <h3>ufw ‚Äì konfiguraƒçn√≠ filozofie</h3>
        <p>
          ufw p≈ôekl√°d√° jednoduch√© p≈ô√≠kazy na iptables pravidla.
        </p>
        <p>
          Konfigurace je ulo≈æen√° v:
        </p>
        <pre><code>/etc/ufw/</code></pre>
      </article>

      <article>
        <h3>D≈Øle≈æit√© konfiguraƒçn√≠ soubory ufw</h3>
        <ul>
          <li><code>/etc/ufw/ufw.conf</code> ‚Äì zapnuto / vypnuto</li>
          <li><code>/etc/default/ufw</code> ‚Äì IPv6, default policy</li>
          <li><code>/etc/ufw/user.rules</code> ‚Äì u≈æivatelsk√° pravidla</li>
        </ul>
      </article>

      <article>
        <h3>Uk√°zka konfigurace ufw.conf</h3>
        <pre><code>ENABLED=yes
LOGLEVEL=low</code></pre>
      </article>

      <article>
        <h3>Jak ufw ukl√°d√° pravidla</h3>
        <p>
          Kdy≈æ zad√°≈°:
        </p>
        <pre><code>sudo ufw allow 22/tcp</code></pre>
        <p>
          ufw:
        </p>
        <ul>
          <li>vytvo≈ô√≠ iptables pravidlo</li>
          <li>ulo≈æ√≠ ho do <code>user.rules</code></li>
          <li>zajist√≠ jeho p≈ôe≈æit√≠ po rebootu</li>
        </ul>
      </article>

      <article>
        <h3>Kontrola iptables p≈ôi pou≈æit√≠ ufw</h3>
        <pre><code>sudo iptables -L -n</code></pre>
        <p>
          Uvid√≠≈° pravidla, kter√° vytvo≈ôil ufw.
        </p>
      </article>

      <article>
        <h3>D≈ÆLE≈ΩIT√â pravidlo</h3>
        <p>
          üëâ <strong>Nekombinuj ruƒçn√≠ iptables a ufw konfiguraci.</strong><br>
          Pokud pou≈æ√≠v√°≈° ufw, spravuj firewall pouze p≈ôes ufw.
        </p>
      </article>

      <!-- LAB -->
      <article class="lab">
        <h3>üß™ LAB ‚Äì Firewall konfigurace</h3>

        <h4>√ökoly</h4>
        <ol>
          <li>Zkontroluj stav ufw</li>
          <li>Nastav default deny incoming</li>
          <li>Povol SSH</li>
          <li>Zapni firewall</li>
          <li>Zobraz iptables pravidla vytvo≈ôen√° ufw</li>
        </ol>

        <button class="show-solution">Zobrazit ≈ôe≈°en√≠</button>

        <div class="lab-solution">
          <pre><code>sudo ufw status
sudo ufw default deny incoming
sudo ufw default allow outgoing
sudo ufw allow ssh
sudo ufw enable
sudo iptables -L -n</code></pre>
        </div>
      </article>

      <article>
        <h3>Shrnut√≠ kapitoly</h3>
        <p>
          iptables je z√°klad firewallu v Linuxu.
          ufw je bezpeƒçn√Ω a p≈ôehledn√Ω zp≈Øsob, jak ho konfigurovat.
        </p>
        <p>
          Pokud rozum√≠≈° obƒõma, ch√°pe≈° <strong>co se dƒõje</strong>
          a z√°rove≈à v√≠≈° <strong>jak to dƒõlat spr√°vnƒõ</strong>.
        </p>
      </article>

    </section>

  </div>
</main>

<footer class="container">
  <small><a href="../index.html">SysAdmin od nuly</a></small>
</footer>

</body>
</html>
